<div class="container mt-4">
  <div class="card">
    <div class="card-header">
      <h3>Add New Lecture</h3>
    </div>
    <div class="card-body">
      <form [formGroup]="lectureForm" (ngSubmit)="onSubmit()">
        <!-- Title -->
        <div class="mb-3">
          <label for="title" class="form-label">Title</label>
          <input type="text" class="form-control" id="title" formControlName="title">
          <div *ngIf="f['title'].touched && f['title'].errors" class="text-danger">
            <div *ngIf="f['title'].errors['required']">Title is required</div>
            <div *ngIf="f['title'].errors['minlength']">Title must be at least 3 characters</div>
          </div>
        </div>

        <!-- Description -->
        <div class="mb-3">
          <label for="description" class="form-label">Description</label>
          <textarea class="form-control" id="description" rows="3" formControlName="description"></textarea>
          <div *ngIf="f['description'].touched && f['description'].errors" class="text-danger">
            <div *ngIf="f['description'].errors['required']">Description is required</div>
            <div *ngIf="f['description'].errors['minlength']">Description must be at least 10 characters</div>
          </div>
        </div>

        <!-- Day of Week -->
        <div class="mb-3">
          <label for="day_of_week" class="form-label">Day of Week</label>
          <select class="form-select" id="day_of_week" formControlName="day_of_week">
            <option *ngFor="let day of daysOfWeek" [value]="day">{{ day }}</option>
          </select>
        </div>

        <!-- Time -->
        <div class="row mb-3">
          <div class="col">
            <label for="start_time" class="form-label">Start Time</label>
            <input type="time" class="form-control" id="start_time" formControlName="start_time">
            <div *ngIf="f['start_time'].touched && f['start_time'].errors" class="text-danger">
              <div *ngIf="f['start_time'].errors['invalidTime']">Invalid time format (HH:MM)</div>
            </div>
          </div>
          <div class="col">
            <label for="end_time" class="form-label">End Time</label>
            <input type="time" class="form-control" id="end_time" formControlName="end_time">
            <div *ngIf="f['end_time'].touched && f['end_time'].errors" class="text-danger">
              <div *ngIf="f['end_time'].errors['invalidTime']">Invalid time format (HH:MM)</div>
            </div>
          </div>
        </div>

        <!-- Grade -->
        <div class="mb-3">
          <label for="grade" class="form-label">Grade</label>
          <select class="form-select" id="grade" formControlName="grade">
            <option value="" disabled selected>Select grade</option>
            <option *ngFor="let grade of grades" [value]="grade">Grade {{ grade }}</option>
          </select>
          <div *ngIf="f['grade'].touched && f['grade'].errors" class="text-danger">
            <div *ngIf="f['grade'].errors['required']">Grade is required</div>
          </div>
        </div>

        <!-- Active Status -->
        <div class="mb-3 form-check">
          <input type="checkbox" class="form-check-input" id="is_active" formControlName="is_active">
          <label class="form-check-label" for="is_active">Active</label>
        </div>

        <!-- Buttons -->
        <div class="d-flex justify-content-between">
          <button type="button" class="btn btn-secondary" routerLink="/admin/dashboard/lectures-management">Cancel</button>
          <button type="submit" class="btn btn-primary" [disabled]="isSubmitting">
            <span *ngIf="!isSubmitting">Create Lecture</span>
            <span *ngIf="isSubmitting" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>