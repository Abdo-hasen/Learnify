<!-- Header Section -->
<div class="filters-header">
  <h2 class="filters-title">
    <i class="fas fa-book me-2"></i>
    Learning Materials Management
  </h2>
  <button class="btn-add" (click)="navigateToCreate()">
    <i class="fas fa-plus me-2"></i>Add New Material
  </button>
</div>

<!-- Filters Section -->
<div class="filters-container">
  <div class="filters">
    <div class="filter-item">
      <label for="search">
        <i class="fas fa-graduation-cap me-2"></i>Search by Lesson Title
      </label>
      <input
        type="text"
        id="search"
        [(ngModel)]="lessonSearch"
        placeholder="Enter lesson title..."
        (input)="filterMaterials()"
      />
    </div>

    <div class="filter-item">
      <label for="fileNameFilter">
        <i class="fas fa-file-alt me-2"></i>Search by File Name
      </label>
      <input
        type="text"
        id="fileNameFilter"
        [(ngModel)]="fileNameSearch"
        placeholder="Enter file name..."
        (input)="filterMaterials()"
      />
    </div>
  </div>
</div>

<!-- Loading indicator -->
<div *ngIf="loading" class="loading-indicator">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
  <p class="mt-3">Loading materials data...</p>
</div>

<!-- Error message -->
<div *ngIf="errorMessage" class="error-message">
  <i class="fas fa-exclamation-circle fa-2x mb-3"></i>
  <p>{{ errorMessage }}</p>
  <button class="retry-button btn-edit mt-3" (click)="loadMaterials()">
    <i class="fas fa-sync-alt me-2"></i>
    Retry
  </button>
</div>

<!-- Materials table -->
<div class="table-container" *ngIf="materials.length > 0 && !loading">
  <table>
    <thead>
      <tr>
        <th><i class="fas fa-book-open me-2"></i>Lesson Name</th>
        <th><i class="fas fa-file-alt me-2"></i>File Name</th>
        <th><i class="fas fa-link me-2"></i>File URL</th>
        <th><i class="fas fa-cogs me-2"></i>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let material of materials">
        <td>{{ getLessonTitle(material.lesson_id) }}</td>
        <td>{{ material.file_name }}</td>
        <td>{{ material.file_url }}</td>
        <td class="action-buttons">
          <button (click)="navigateToEdit(material.id)" class="btn-edit">
            <i class="fas fa-edit me-1"></i>
            Edit
          </button>
          <button (click)="confirmDelete(material.id)" class="btn-delete">
            <i class="fas fa-trash-alt me-1"></i>
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Empty state -->
<div *ngIf="materials.length === 0 && !loading" class="empty-state">
  <i class="fas fa-file-alt fa-3x text-muted mb-3"></i>
  <h3>No learning materials available</h3>
  <p>There are currently no materials in the system or none match your search criteria.</p>
  <button class="btn-add mt-3" (click)="navigateToCreate()">
    <i class="fas fa-plus me-2"></i>
    Add Your First Material
  </button>
</div>
    