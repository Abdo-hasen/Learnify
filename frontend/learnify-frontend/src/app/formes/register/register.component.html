<div class="container">
  <div class="login-container">
    <div class="row">
      <div class="col-md-6 left-side">
        <div class="header-row">
          <a routerLink="/" class="logo-link">
            <div class="logo">
              <div class="logo-icon">
                <span style="color: var(--dark-purple); font-weight: bold; font-size: 22px;">L</span>
              </div>
              <div class="logo-text">Learnify</div>
            </div>
          </a>
          <div class="signup-link">
            <a routerLink="/login" class="btn"><i class="fas fa-sign-in-alt"></i> Sign In</a>
          </div>
        </div>

        <h2>Create Account</h2>
        <p class="subheading">Join the Learnify community and start your learning journey today</p>

        <div *ngIf="errorMessage" class="alert alert-danger">
          {{ errorMessage }}
        </div>

        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
          <div class="row">
            <div class="col-md-6">
              <div class="input-group">
                <input type="text" class="input-field" id="firstName" placeholder=" " formControlName="firstName">
                <label for="firstName" class="input-label">First Name</label>
                <div class="validation-message" *ngIf="firstName?.invalid && firstName?.touched">
                  First name must be at least 2 characters
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="input-group">
                <input type="text" class="input-field" id="lastName" placeholder=" " formControlName="lastName">
                <label for="lastName" class="input-label">Last Name</label>
                <div class="validation-message" *ngIf="lastName?.invalid && lastName?.touched">
                  Last name must be at least 2 characters
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="input-group">
                <input type="tel" class="input-field" id="phone" placeholder=" " formControlName="phone">
                <label for="phone" class="input-label">Phone Number</label>
                <div class="validation-message" *ngIf="phone?.invalid && phone?.touched">
                  Must start with 010/011/012/015 and be 11 digits
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="input-group">
                <input type="tel" class="input-field" id="parentPhone" placeholder=" " formControlName="parentPhone">
                <label for="parentPhone" class="input-label">Parent's Phone</label>
                <div class="validation-message" *ngIf="parentPhone?.invalid && parentPhone?.touched">
                  Must start with 010/011/012/015 and be 11 digits
                </div>
              </div>
            </div>
          </div>

          <div class="input-group">
            <input type="email" class="input-field" id="email" placeholder=" " formControlName="email">
            <label for="email" class="input-label">Email address</label>
            <div class="validation-message" *ngIf="email?.invalid && email?.touched">
              Please enter a valid email address
            </div>
          </div>

          <div class="grade-group mb-4">
            <label class="grade-label">Select Grade:</label>
            <div class="grade-options">
              <div class="grade-option">
                <input type="radio" id="grade-a" formControlName="grade" value="1">
                <label for="grade-a">Grade A</label>
              </div>
              <div class="grade-option">
                <input type="radio" id="grade-b" formControlName="grade" value="2">
                <label for="grade-b">Grade B</label>
              </div>
              <div class="grade-option">
                <input type="radio" id="grade-c" formControlName="grade" value="3">
                <label for="grade-c">Grade C</label>
              </div>
            </div>
            <div class="validation-message" *ngIf="grade?.invalid && grade?.touched">
              Please select a grade
            </div>
          </div>

          <div class="input-group password-field">
            <input [type]="showPassword ? 'text' : 'password'" class="input-field" id="password" placeholder=" " formControlName="password">
            <label for="password" class="input-label">Password</label>
            <i class="password-toggle fas" [class.fa-eye]="showPassword" [class.fa-eye-slash]="!showPassword" (click)="togglePasswordVisibility()"></i>
            <div class="validation-message" *ngIf="password?.invalid && password?.touched">
              Password must be at least 6 characters
            </div>
          </div>

          <div class="input-group password-field">
            <input [type]="showPassword ? 'text' : 'password'" class="input-field" id="confirmPassword" placeholder=" " formControlName="confirmPassword">
            <label for="confirmPassword" class="input-label">Confirm Password</label>
            <div class="validation-message" *ngIf="registerForm.errors?.['mismatch'] && confirmPassword?.touched">
              Passwords do not match
            </div>
          </div>

          <button type="submit" class="btn signin-btn" [disabled]="registerForm.invalid || isLoading">
            <span *ngIf="!isLoading">Sign Up</span>
            <span *ngIf="isLoading">
              <i class="fas fa-spinner fa-spin"></i> Creating Account...
            </span>
          </button>

          <div class="text-center mt-4">
            <p>Already have an account? <a routerLink="/login" class="forgot-link">Sign In</a></p>
          </div>
        </form>
      </div>

      <div class="col-md-6 right-side">
        <!-- Animated background with geometric shapes -->
        <div class="animated-background">
          <div class="shape shape-1"></div>
          <div class="shape shape-2"></div>
          <div class="shape shape-3"></div>
          <div class="shape shape-4"></div>
        </div>
      </div>
    </div>
  </div>
</div>
