<div class="container">
  <div class="login-container">
    <div class="row">
      <div class="col-md-6 left-side">
        <div class="header-row">
          <div class="logo">
            <div class="logo-icon">
              <span style="color: var(--dark-purple); font-weight: bold; font-size: 22px;">L</span>
            </div>
            <div class="logo-text">Learnify</div>
          </div>
          <div class="signup-link">
            <a routerLink="/" class="btn"><i class="fas fa-sign-in-alt"></i> Back to Login</a>
          </div>
        </div>
        
        <h2>Reset Password</h2>
        <p class="subheading">Set a new secure password for your account to continue your learning journey.</p>
        
        <div *ngIf="successMessage" class="alert alert-success">
          {{ successMessage }}
        </div>
        
        <div *ngIf="errorMessage" class="alert alert-danger">
          {{ errorMessage }}
        </div>
        
        <form [formGroup]="resetForm" (ngSubmit)="onSubmit()" *ngIf="!successMessage">
          <div class="input-group password-field">
            <input [type]="showPassword ? 'text' : 'password'" class="input-field" id="password" placeholder=" " formControlName="password">
            <label for="password" class="input-label">New Password</label>
            <i class="password-toggle fas" [class.fa-eye]="showPassword" [class.fa-eye-slash]="!showPassword" (click)="togglePasswordVisibility()"></i>
            <div class="validation-message" *ngIf="f['password'].invalid && (f['password'].dirty || f['password'].touched || submitAttempted)">
              Password must be at least 8 characters long
            </div>
          </div>
          
          <div class="input-group password-field">
            <input [type]="showPassword ? 'text' : 'password'" class="input-field" id="password_confirmation" placeholder=" " formControlName="password_confirmation">
            <label for="password_confirmation" class="input-label">Confirm Password</label>
            <div class="validation-message" *ngIf="resetForm.errors?.['passwordMismatch'] && (f['password_confirmation'].dirty || f['password_confirmation'].touched || submitAttempted)">
              Passwords do not match
            </div>
          </div>
          
          <button type="submit" class="btn signin-btn" [disabled]="resetForm.invalid || isLoading">
            <span *ngIf="!isLoading">Reset Password</span>
            <span *ngIf="isLoading">
              <i class="fas fa-spinner fa-spin"></i> Resetting...
            </span>
          </button>
          
          <div class="text-center mt-4">
            <p>Remember your password? <a routerLink="/" class="forgot-link">Sign In</a></p>
          </div>
        </form>
      </div>
      
      <div class="col-md-6 right-side">
        <!-- Animated background with geometric shapes -->
        <div class="animated-background">
          <div class="shape shape-1"></div>
          <div class="shape shape-2"></div>
          <div class="shape shape-3"></div>
          <div class="shape shape-4"></div>
        </div>
      </div>
    </div>
  </div>
</div>

